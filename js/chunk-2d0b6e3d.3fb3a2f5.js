(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b6e3d"],{"1ea4":function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a._self._c;return t("div",[t("div",{staticClass:"breadCurmb mt-3"},[t("label",[t("router-link",{attrs:{to:"/"}},[a._v(a._s(a.$t("Home")))])],1),t("span",[a._v("/")]),t("label",{attrs:{active:""}},[a._v(a._s(a.$t("Users")))])]),t("v-dialog",{attrs:{width:a.config.deleteModalWidth},model:{value:a.dialogDelete,callback:function(t){a.dialogDelete=t},expression:"dialogDelete"}},[t("v-card",[t("v-toolbar",{attrs:{color:"third",dense:"",flat:""}},[t("v-toolbar-title",{staticClass:"text-body-2 font-weight-bold white-clr"},[a._v(" "+a._s(a.$t("Confirm"))+" ")])],1),t("v-card-text",{staticClass:"py-0 pa-4 pt-4 black--text"},[t("h3",{staticClass:"clr-primary"},[a._v(" "+a._s(a.$t("AreYouSureYouWantToDelete"))+" ")])]),t("v-card-actions",[t("v-spacer"),t("v-btn",{staticClass:"body-2 font-weight-bold",attrs:{color:"danger",text:"",small:""},nativeOn:{click:function(t){a.dialogDelete=!1}}},[a._v(a._s(a.$t("Cancel")))]),t("v-btn",{staticClass:"body-2 font-weight-bold",attrs:{color:"success",outlined:"",small:""},nativeOn:{click:function(t){return a.deleteItemConfirm.apply(null,arguments)}}},[a._v(" "+a._s(a.$t("Ok")))])],1)],1)],1),t("v-toolbar",{attrs:{flat:""}},[t("v-toolbar-title",[a._v(a._s(a.$t(a.config.tableName)))]),t("v-spacer"),t("v-dialog",{attrs:{width:a.config.modalFormWidth},on:{"click:outside":a.closeModal},scopedSlots:a._u([{key:"activator",fn:function({on:e,attrs:s}){return[t("div",[t("v-btn",a._g(a._b({staticClass:"mb-2",attrs:{color:"info",small:""},on:{click:a.clearData}},"v-btn",s,!1),e),[t("span",{staticClass:"addNewLabel"},[a._v(a._s(a.$t("AddNew")))]),t("v-icon",{staticClass:"my-0 mr-2 ml-2",attrs:{dense:""}},[a._v("mdi-file")])],1),t("download-excel",{staticClass:"mb-2 mx-5 cursorPointer v-btn theme--dark v-size--small success v-btn v-btn--is-elevated v-btn--has-bg",attrs:{data:a.table.items,fields:a.table.itemExport,type:"xls",header:a.$t(a.config.tableName),worksheet:a.$t(a.config.tableName),name:a.$t(a.config.tableName)}},[t("span",{staticClass:"excelLabel"},[a._v(a._s(a.$t("ExportExcel")))]),t("v-icon",{staticClass:"my-0 mr-2 ml-2",staticStyle:{color:"#fff !important"},attrs:{dense:""}},[a._v("mdi-export")])],1),t("v-btn",{staticClass:"mb-2 mr-2 ml-2",attrs:{color:"danger",dark:"",small:""},on:{click:a.loadPDF}},[t("span",{staticClass:"pdfLabel"},[a._v(" "+a._s(a.$t("LoadPDF"))+" ")]),t("v-icon",{staticClass:"my-0 mr-2 ml-2",attrs:{dense:""}},[a._v("mdi-eye")])],1)],1)]}}]),model:{value:a.dialog,callback:function(t){a.dialog=t},expression:"dialog"}},[a.dialog?t("div",[t("v-card",[t("v-card-title",[a.formData.id>0?t("span",{staticClass:"text-h5"},[a._v(" "+a._s(a.$t("Edit"))+" ")]):t("span",{staticClass:"text-h5"},[a._v(" "+a._s(a.$t("Add"))+" ")])]),t("v-card-text",[t("v-container",[t("v-row",[t("v-col",{staticClass:"py-0",attrs:{cols:4}},[t("div",{class:{"has-error":a.errors.has("addEditValidation.name")}},[t("label",[a._v(a._s(a.$t("Name")))]),t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"d-block my-2",attrs:{type:"text",name:"name","data-vv-scope":"addEditValidation","data-vv-as":a.$t("Name"),"hide-details":"",dense:"",outlined:""},model:{value:a.formData.name,callback:function(t){a.$set(a.formData,"name",t)},expression:"formData.name"}})],1),a.errors.has("addEditValidation.name")?t("div",{staticClass:"help-block"},[a._v(" "+a._s(a.errors.first("addEditValidation.name"))+" ")]):a._e()]),t("v-col",{staticClass:"py-0",attrs:{cols:4}},[t("div",{class:{"has-error":a.errors.has("addEditValidation.email")}},[t("label",[a._v(a._s(a.$t("Email")))]),t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"d-block my-2",attrs:{type:"text",name:"email","data-vv-scope":"addEditValidation","data-vv-as":a.$t("Email"),"hide-details":"",dense:"",outlined:""},model:{value:a.formData.email,callback:function(t){a.$set(a.formData,"email",t)},expression:"formData.email"}})],1),a.errors.has("addEditValidation.email")?t("div",{staticClass:"help-block"},[a._v(" "+a._s(a.errors.first("addEditValidation.email"))+" ")]):a._e()]),0==a.formData.id?t("v-col",{staticClass:"py-0",attrs:{cols:4}},[t("div",{class:{"has-error":a.errors.has("addEditValidation.password")}},[t("label",[a._v(a._s(a.$t("Password")))]),t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"d-block my-2",attrs:{type:"password",name:"password","data-vv-scope":"addEditValidation","data-vv-as":a.$t("Password"),"hide-details":"",dense:"",outlined:""},model:{value:a.formData.password,callback:function(t){a.$set(a.formData,"password",t)},expression:"formData.password"}})],1),a.errors.has("addEditValidation.password")?t("div",{staticClass:"help-block"},[a._v(" "+a._s(a.errors.first("addEditValidation.password"))+" ")]):a._e()]):a._e(),0==a.formData.id?t("v-col",{staticClass:"py-0",attrs:{cols:4}},[t("div",{class:{"has-error":a.errors.has("addEditValidation.confirm_password")}},[t("label",[a._v(a._s(a.$t("ConfirmPassword")))]),t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"d-block my-2",attrs:{type:"password",name:"confirm_password","data-vv-scope":"addEditValidation","data-vv-as":a.$t("ConfirmPassword"),"hide-details":"",dense:"",outlined:""},model:{value:a.formData.confirm_password,callback:function(t){a.$set(a.formData,"confirm_password",t)},expression:"formData.confirm_password"}})],1),a.errors.has("addEditValidation.confirm_password")?t("div",{staticClass:"help-block"},[a._v(" "+a._s(a.errors.first("addEditValidation.confirm_password"))+" ")]):a._e()]):a._e(),t("v-col",{staticClass:"py-0",attrs:{cols:4}},[t("div",{class:{"has-error":a.errors.has("addEditValidation.roles")}},[t("label",[a._v(a._s(a.$t("Roles")))]),t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"d-block my-2",attrs:{name:"roles","data-vv-scope":"addEditValidation","data-vv-as":a.$t("Roles"),"hide-details":"",dense:"",outlined:"","item-value":"id","item-text":"name",items:a.roleList,clearable:"",multiple:""},model:{value:a.formData.roles,callback:function(t){a.$set(a.formData,"roles",t)},expression:"formData.roles"}})],1),a.errors.has("addEditValidation.roles")?t("div",{staticClass:"help-block"},[a._v(" "+a._s(a.errors.first("addEditValidation.roles"))+" ")]):a._e()])],1)],1)],1),t("v-card-actions",[t("v-container",[t("v-row",{staticClass:"float-left"},[t("v-btn",{staticClass:"mr-2 ml-2",attrs:{color:"danger",dark:"",text:"",small:""},on:{click:a.closeModal}},[a._v(" "+a._s(a.$t("Cancel"))+" ")]),t("v-btn",{staticClass:"mr-2 ml-5",attrs:{color:"success",dark:"",outlined:"",small:""},on:{click:a.save}},[a._v(" "+a._s(a.$t("Save"))+" ")])],1)],1)],1)],1)],1):a._e()])],1),t("v-data-table",{staticClass:"elevation-1",attrs:{headers:a.table.headers,items:a.table.items,loading:a.table.loading,"items-per-page":a.table.itemsPerPage,page:a.table.page,"hide-default-footer":"","loading-text":a.$t("LoadData")},on:{"update:page":function(t){return a.$set(a.table,"page",t)}},scopedSlots:a._u([{key:"no-data",fn:function(){return[t("v-alert",{staticClass:"mt-5 white-clr",attrs:{color:"third"}},[a._v(" "+a._s(a.$t("NoData"))+" ")])]},proxy:!0},{key:"item.actions",fn:function({item:e}){return[e.id>1?t("v-icon",{staticClass:"my-0 mr-2 ml-2",attrs:{dense:"",color:"danger"},on:{click:function(t){a.formData=Object.assign({},e),a.dialogDelete=!0}}},[a._v("mdi-delete")]):a._e()]}}])}),t("div",{staticClass:"text-center pt-2"},[a.table.length?t("v-pagination",{attrs:{"total-visible":"5",length:a.table.length},on:{input:function(t){return a.changePage(a.table.page)}},model:{value:a.table.page,callback:function(t){a.$set(a.table,"page",t)},expression:"table.page"}}):a._e()],1)],1)},i=[],l={name:"users",data(){return{filtersItems:[{text:this.$t("All"),value:null},{text:this.$t("Active"),value:1},{text:this.$t("InActive"),value:0}],config:{tableName:"UsersTable",crudHeader:"Users",crudApi:"user",filterWidth:"20rem",deleteModalWidth:"30rem",modalFormWidth:"50rem"},table:{page:1,length:null,itemsPerPage:10,loading:!1,items:[],itemExport:{"#":"id","الاسم":{field:"name",callback:a=>{if(a)return a}},"البريد الإلكتروني":{field:"email",callback:a=>{if(a)return a}},"الأدوار":{field:"roles",callback:a=>{if(a)return a}}},headers:[{text:"#",value:"id",width:"5rem"},{text:this.$t("Name"),value:"name",width:"10rem"},{text:this.$t("Email"),value:"email",width:"8rem"},{text:this.$t("Roles"),value:"roles",width:"8rem"},{text:this.$t("Actions"),value:"actions",sortable:!1,align:"center",width:"8rem"}]},formData:{id:0,name:null,email:null,password:null,confirm_password:null,roles:[]},drawer:!1,dialog:!1,dialogDelete:!1,roleList:[{id:1,name:"constant"},{id:2,name:"store"},{id:3,name:"orders"},{id:4,name:"reports"},{id:5,name:"users"},{id:6,name:"imports"}]}},methods:{loadPDF(){window.open("/reports/"+this.config.crudApi)},clearData(){this.formData={id:0,name:null,email:null,password:null,confirm_password:null,roles:[]},this.$validator.reset()},deleteItemConfirm(){this.deleteData(this.config.crudApi+"/removeData",this.formData.id).then(()=>{this.getDataFromApi(),this.dialogDelete=!1})},updateStatus(a){a.isLoading=!0,this.updateStatusData(this.config.crudApi+"/updateStatus",a.id).then(()=>{this.getDataFromApi()}).finally(()=>{a.isLoading=!1})},closeModal(){this.formData.id=0,this.dialog=!1,this.$validator.reset()},save(){this.$validator.validateAll("addEditValidation").then(a=>{if(!a)return this.notifyCustomError("Error","ValidationsErrors");this.saveUpdateData(this.config.crudApi+"/saveData",this.config.crudApi+"/updateData",this.formData).then(()=>{this.getDataFromApi(),this.closeModal()})})},getDataFromApi(a){this.table.loading=!0,this.getFrontEndData(this.config.crudApi+"/getData",a).then(a=>{this.table.items=a.resources,this.table.length=Math.ceil(a.pagination.total/a.pagination.per_page)}).finally(()=>{this.table.loading=!1})},changePage(a){let t={page:a};this.getDataFromApi(t)}},mounted(){this.getDataFromApi()}},r=l,o=e("2877"),d=Object(o["a"])(r,s,i,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0b6e3d.3fb3a2f5.js.map